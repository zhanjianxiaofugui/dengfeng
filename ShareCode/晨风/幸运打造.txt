[@main]
#if
random 1
#act
MOV D0 <$HP>

#IFONE
!ISINSAFEZONE
EQUAL D0 <$MAXHP>
#ACT
Messagebox \1.请在安全区内进行治疗\2.你的血量很健康，无须治疗
BREAK

#IF
TRUE
#ACT
QUERYMSG 是否愿意花费300元宝恢复满血？ @确定恢复
BREAK

[@确定恢复1]
#IF
TRUE
#ACT
MOV N$货币 <$BINDGAMEGOLD>
INC N$货币 <$GAMEGOLD>

#IF
; CHECKMONEY 元宝 < 300
SMALL N$货币 300
#ACT
Messagebox 恢复满血状态需要300元宝，你的元宝不足！
break

;扣元宝,优先扣绑定元宝
#IF
!CHECKMONEY 绑定元宝 < 300
#ACT
MONEY 绑定元宝 - 300
#ELSEACT
MOV N$剩余 300
DEC N$剩余 <$BINDGAMEGOLD>
MONEY 绑定元宝 - <$BINDGAMEGOLD>
MONEY 元宝 - <$STR(N$剩余)>

#IF
TRUE
#ACT
; MONEY 元宝 - 300
humanhp + 100000
humanmp + 50000
SENDMSG 7 恭喜您恢复满血状态！又可以去浪了！
break
close
